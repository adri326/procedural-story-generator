[
  {
    "name": "gift",
    "characters": [
      ["this.ownings: 1"],
      []
    ],
    "items": [
      "!(character(0)).ownings",
      "!(character(1)).ownings"
    ],
    "variations": [
      {"name": "back", "test": "random() < 0.5 and item(1)"},
      {"name": "noback", "test": "not item(1)"}
    ],
    "actions": [
      {
        "name": "give",
        "characters": [0, 1],
        "items": [0],
        "others": {
          "gift": true
        }
      },
      {"name": "thank", "characters": [1, 0]},
      {
        "if": "variations.back",
        "name": "give",
        "characters": [1, 0],
        "items": [1],
        "others": {
          "gift": true
        }
      },
      {
        "if": "variations.back",
        "name": "thank",
        "characters": [0, 1]
      },
      {
        "if": "variations.noback",
        "name": "cannot_give",
        "characters": [1],
        "others": {
          "sorry": true,
          "noowning": true
        }
      }
    ]
  }
]
